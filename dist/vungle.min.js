(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

var _vungleAdCore = require('./vungle-ad-core.js');

var _vungleAdCore2 = _interopRequireDefault(_vungleAdCore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

window.addEventListener('load', function () {
    _vungleAdCore2.default.init(function () {
        console.log('ready');
    });
});

var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
var eventer = window[eventMethod];
var messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";

// Listen to message from child window
eventer(messageEvent, function (e) {
    switch (e.data) {
        case 'close':
            window.callSDK('close');
            break;
        case 'download':
            window.callSDK('download');
            break;
    }
}, false);

},{"./vungle-ad-core.js":2}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _vungleAdHelpers = require('./vungle-ad-helpers.js');

var _vungleAdHelpers2 = _interopRequireDefault(_vungleAdHelpers);

var _vungleAdMraidHelper = require('./vungle-ad-mraid-helper.js');

var _vungleAdMraidHelper2 = _interopRequireDefault(_vungleAdMraidHelper);

var _vungleAdPrivacy = require('./vungle-ad-privacy.js');

var _vungleAdPrivacy2 = _interopRequireDefault(_vungleAdPrivacy);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var adcore = {
    init: async function init(onEndcardStart) {

        await _vungleAdMraidHelper2.default.checkMRAIDStatus();
        this.controller(onEndcardStart);
    },
    controller: function controller(onEndcardStart) {

        var vungleAd = document.getElementById('vungle-ad');
        window.vungleMRAID = _vungleAdMraidHelper2.default;

        //check for either vungle or standard MRAID
        vungleMRAID.checkMRAIDStatus();

        var achievedReward;
        var gdprConsentRequired = false;
        var maxAdDuration = 45; //this will be a token value in the future

        var VungleAd = {};
        var minimumPercentageContainerSize = 45;

        VungleAd.adSizes = ['xs', 's', 'm', 'l', 'xl'];

        // @if NODE_ENV='prod' 
        VungleAd.tokens = window.vungle.mraidBridgeExt.getReplacementTokens();
        var isAdIncentivised = window.vungle.mraidExt.getIncentivized();
        // @endif

        // @if NODE_ENV='dev' 
        VungleAd.tokens = JSON.parse("{\"PRIVACY_BODY_TEXT\":\"Vungle, Inc. understands the importance of privacy. Vungle operates a mobile ad network (the 'Ad Network' or the 'Services') through which Vungle displays targeted, contextual ads.\",\"MAIN_VIDEO\":\"/var/mobile/Containers/Data/Application/9C037305-5FBF-46BE-BCD5-31F0BC7B1F21/Library/Caches/com.vungle.ads/91904af6c89397f7822d169463c283b45bd6ee03/E2B84F77F71188171435856769024_34f9e557a05.1.5.12373212277748154277.mp4\",\"CTA_BUTTON_URL\":\"https://www.microsoft.com/en-us/p/bingo-blitz-free-bingo-slots/9nblggh42r8p\",\"INCENTIVIZED_CLOSE_TEXT\":\"Close\",\"CTA_BUTTON_TEXT\":\"Download\",\"APP_ICON\":\"/var/mobile/Containers/Data/Application/9C037305-5FBF-46BE-BCD5-31F0BC7B1F21/Library/Caches/com.vungle.ads/91904af6c89397f7822d169463c283b45bd6ee03/1530006649347-amz-icon.jpg\",\"ACTION_TRACKING\":\"false\",\"VUNGLE_PRIVACY_URL\":\"https://vungle.com/privacy/\",\"APP_RATING\":\"/var/mobile/Containers/Data/Application/9C037305-5FBF-46BE-BCD5-31F0BC7B1F21/Library/Caches/com.vungle.ads/91904af6c89397f7822d169463c283b45bd6ee03/4-stars.svg\",\"PRIVACY_CLOSE_TEXT\":\"Read Vungle's Privacy Policy\",\"FONT_URL\":\"/var/mobile/Containers/Data/Application/9C037305-5FBF-46BE-BCD5-31F0BC7B1F21/Library/Caches/com.vungle.ads/91904af6c89397f7822d169463c283b45bd6ee03/cJZKeOuBrn4kERxqtaUH3SZ2oysoEQEeKwjgmXLRnTc.ttf\",\"CTA_BUTTON_BORDER\":\"transparent\",\"CTA_BUTTON_BACKGROUND\":\"#01b27a\",\"APP_NAME\":\"BINGO Blitz - Free Bingo + Slots\",\"CTA_BUTTON_TEXT_COLOR\":\"#fff\",\"PRIVACY_CONTINUE_TEXT\":\"Close\",\"INCENTIVIZED_BODY_TEXT\":\"Are you sure you want to skip this ad? You must finish watching to claim your reward.\",\"START_MUTED\":\"false\",\"APP_DESCRIPTION\":\"Playtika Holdings Corp\",\"POWERED_BY_VUNGLE\":\"/var/mobile/Containers/Data/Application/9C037305-5FBF-46BE-BCD5-31F0BC7B1F21/Library/Caches/com.vungle.ads/91904af6c89397f7822d169463c283b45bd6ee03/vungle.svg\",\"CREATIVE_VIEW_TYPE\":\"endcard\",\"INCENTIVIZED_CONTINUE_TEXT\":\"Continue\",\"VIDEO_PROGRESS_BAR\":\"true\",\"INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS\":\"3\",\"CLOSE_BUTTON_DELAY_SECONDS\":\"5\",\"INCENTIVIZED_TITLE_TEXT\":\"Close this ad?\"}");
        window.vungle = { mraidExt: { getIncentivized: function getIncentivized() {
                    return true;
                },
                useCustomPrivacy: function useCustomPrivacy() {
                    return true;
                } },
            mraidBridgeExt: { notifyTPAT: function notifyTPAT() {
                    return true;
                },
                notifyEventValuePairEvent: function notifyEventValuePairEvent() {
                    return true;
                },
                consentAction: function consentAction() {
                    return true;
                } },
            mraid: { getConsentRequired: function getConsentRequired() {
                    return false;
                },
                getConsentTitleText: function getConsentTitleText() {
                    return "Ad-Interaction Data Collection";
                },
                getConsentBodyText: function getConsentBodyText() {
                    return "With permission, Vungle collects your ad-interaction data to serve relevant ads to you. Note: youâ€™ll see ads independent of your selection, but they may not be as relevant. Do you consent to data tracking for more relevant ads?";
                },
                getConsentAcceptButtonText: function getConsentAcceptButtonText() {
                    return "I consent";
                },
                getConsentDenyButtonText: function getConsentDenyButtonText() {
                    return "I do not consent";
                } } };

        var isAdIncentivised = window.vungle.mraidExt.getIncentivized();
        // @endif

        // overide tokens where applicable
        if (window.vungleSettings) {

            for (var key in window.vungleSettings) {
                if (window.vungleSettings.hasOwnProperty(key)) {

                    tokens[key] = window.vungleSettings[key];
                }
            }
        }

        window.callSDK = function (event) {
            if (!(window.vungle && window.vungle.mraidBridgeExt)) {
                // console log successful SDK call in dev mode
                console.log('%c Vungle SDK action ' + event, 'color: #008800');
                return;
            }

            // remove iframe to stop all sound
            if (document.getElementById('ad-content')) {
                document.getElementById('ad-content').remove();
            }

            ctaButtonClicked();

            // return actionClicked(event);
        };

        //attach CTA click on all elements with class mraid-cta
        var ctaElements = document.querySelectorAll('.mraid-cta');
        for (var i = 0; i < ctaElements.length; i++) {
            ctaElements[i].addEventListener('click', ctaButtonClicked, false);
        }

        var theme;

        // if (tokens) {
        //     theme = tokens.theme;
        // } else {
        //     console.error('No tokens supplied');
        // }

        // default privacy to true if not set
        // if (tokens && typeof tokens.privacy === 'undefined') {
        //     tokens.privacy = true;
        // }

        // init privacy if token says to do so
        // if (tokens && tokens.privacy === true) {
        //     AdPrivacy.init();
        // }

        //-------

        document.getElementById('ad-notification-modal-title-text').innerHTML = VungleAd.tokens.INCENTIVIZED_TITLE_TEXT;
        document.getElementById('ad-notification-modal-body-text').innerHTML = VungleAd.tokens.INCENTIVIZED_BODY_TEXT;
        document.getElementById('ad-notification-modal-continue').innerHTML = VungleAd.tokens.INCENTIVIZED_CONTINUE_TEXT;
        document.getElementById('ad-notification-modal-close').innerHTML = VungleAd.tokens.INCENTIVIZED_CLOSE_TEXT;

        document.ontouchmove = function (event) {
            event.preventDefault();
        };

        window.addEventListener('resize', function (event) {
            vungleAd.style.opacity = 0;

            if (this.resizeTimer) {
                clearTimeout(this.resizeTimer);
            }
            this.resizeTimer = setTimeout(function () {
                renderVungleAdSizingClass();
                vungleAd.style.opacity = 1;
            }, 20);
        });

        //Called when Ad loads
        renderVungleAdSizingClass();

        var fullscreenVideoElement = document.getElementById('vungle-fullscreen-video');

        switch (VungleAd.tokens.CREATIVE_VIEW_TYPE) {
            case "video_and_endcard":
                fullscreenVideoElement.src = tokens.video;
                fullscreenVideoElement.addEventListener('ended', function () {
                    fullscreenVideoElement.className = 'hide';
                    if (onEndcardStart) {
                        //run any code defined in main.js
                        onEndcardStart();
                    }
                });
                break;
            case "inline_video_endcard":
                fullscreenVideoElement.src = tokens.video;
                if (typeof fullscreenVideoElement.loop == 'boolean') {
                    // loop supported
                    fullscreenVideoElement.loop = true;
                } else {
                    // loop property not supported
                    fullscreenVideoElement.addEventListener('ended', function () {
                        this.currentTime = 0;
                        this.play();
                    }, false);
                }
                if (onEndcardStart) {
                    //run any code defined in main.js
                    onEndcardStart();
                }
                break;
            case "Endcard":
                if (onEndcardStart) {
                    //run any code defined in main.js
                    onEndcardStart();
                }
                fullscreenVideoElement.className = 'hide';
                break;
        }

        if ("getConsentRequired" in window.vungle.mraid) {
            gdprConsentRequired = window.vungle.mraid.getConsentRequired();

            if (gdprConsentRequired) {
                revealGDPRNotificationView();
            } else {
                renderAdIFrame();
            }
        } else {
            renderAdIFrame();
        }

        function closeButtonTimer() {
            var closeButton = document.getElementById('vungle-close');
            var delaySeconds, incentivisedDelaySeconds;

            //if ad is incentivised/rewarded, show different close button delay token timer vs non-incentivised/non-rewarded
            if (isAdIncentivised) {
                delaySeconds = parseFloat(VungleAd.tokens.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS);
                incentivisedDelaySeconds = 80 / 100 * maxAdDuration; //80% of max ad duration
                console.log('INCENTIVIZED - delay seconds: ' + delaySeconds);
                console.log('INCENTIVIZED - 80% max ad duration: ' + incentivisedDelaySeconds);

                //ENDCARD ONLY TEMPLATE
                if (delaySeconds == 0) {
                    revealCloseButton(0, incentivisedDelaySeconds);
                } else if (delaySeconds == 9999) {
                    revealCloseButton(maxAdDuration, maxAdDuration);
                } else {
                    revealCloseButton(delaySeconds, incentivisedDelaySeconds);
                }

                //INLINE VIDEO TEMPLATE

                //FULL SCREEN VIDEO TEMPLATE
            } else {
                delaySeconds = parseFloat(VungleAd.tokens.CLOSE_BUTTON_DELAY_SECONDS);
                console.log('NOT INCENTIVIZED - delay seconds: ' + delaySeconds);
                console.log('NOT INCENTIVIZED - max ad duration: ' + maxAdDuration);

                //ENDCARD ONLY TEMPLATE
                if (delaySeconds == 0) {
                    revealCloseButton(0, 0);
                } else if (delaySeconds == 9999) {
                    revealCloseButton(maxAdDuration, 0);
                } else {
                    revealCloseButton(delaySeconds, 0);
                }

                //INLINE VIDEO TEMPLATE

                //FULL SCREEN VIDEO TEMPLATE
            }
        }

        function renderAdIFrame() {

            // @if NODE_ENV='prod' 
            document.getElementById('endcard-view').innerHTML = '<iframe id="ad-content" src="ad.html" style="overflow:hidden;height:100%;width:100%" height="100%" width="100%"></iframe>';
            // @endif

            //start close button timer once iFrame has been loaded and is visible to user
            closeButtonTimer();

            //send postroll.view TPAT event once iFrame has loaded
            window.vungle.mraidBridgeExt.notifyTPAT("postroll.view");
        }

        function renderVungleAdSizingClass() {

            var vungleAdContainer = document.getElementById('dynamic');
            var longestSide = Math.max(vungleAdContainer.offsetHeight, vungleAdContainer.offsetWidth);
            var shortestSide = Math.min(vungleAdContainer.offsetHeight, vungleAdContainer.offsetWidth);

            if (typeof theme === 'undefined' || theme === null) {
                theme = 'dark';
            }

            var minimumContainerSize = minimumPercentageContainerSize / 100 * longestSide;
            var adSizeSegmentLength = (longestSide - minimumContainerSize) / VungleAd.adSizes.length;
            var arrayCount = Math.floor((shortestSide - minimumContainerSize) / adSizeSegmentLength);

            var adShape, computedSize;
            var adSizeClass = '';

            if (longestSide === shortestSide) {
                //Square ad unit
                adShape = 'square';
            } else if (document.body.clientHeight > document.body.clientWidth) {
                //Portrait ad unit
                adShape = 'portrait';
                if (VungleAd.adSizes[arrayCount]) {
                    computedSize = VungleAd.adSizes[arrayCount];
                    adSizeClass = ' portrait-' + computedSize;
                } else {
                    computedSize = VungleAd.adSizes[VungleAd.adSizes.length - 1];
                    adSizeClass = ' portrait-' + computedSize + ' oob';
                }
            } else {
                //Landscape ad unit
                adShape = 'landscape';
                if (VungleAd.adSizes[arrayCount]) {
                    computedSize = VungleAd.adSizes[arrayCount];
                    adSizeClass = ' landscape-' + computedSize;
                } else {
                    computedSize = VungleAd.adSizes[arrayCount];
                    adSizeClass = ' landscape-' + computedSize + ' oob';
                }
            }

            var adClassName = adShape.concat(adSizeClass);

            //Append body tag with appropriate classnames
            document.body.className = adClassName + ' ' + theme + ' ' + _vungleAdHelpers2.default.getOS();

            VungleAd.shape = adShape;
            VungleAd.sizeClass = computedSize;
            VungleAd.theme = theme;
            VungleAd.os = _vungleAdHelpers2.default.getOS();

            // @if NODE_ENV='dev' 
            /*  
                Debug mode: Displays the Vungle boilerplate classes to help you
                identify each classname if you wish to make additional stylistic changes
            */

            if (window.vungleDebugMode === true) {
                var adClassDebug;
                if (adClassName.indexOf('oob') >= 0) {
                    adClassDebug = '<p><span class="title">Out of Bounds</span>\
                                <span>Pixel Density: <b>' + window.devicePixelRatio + '</b></span>\
                                <span>Longest Side: <b>' + longestSide + 'px</b></span>\
                                <span>Shortest Side: <b>' + shortestSide + 'px</b></span>\
                                <span>Minimum Container Size: <b>' + minimumContainerSize + 'px</b></span>\
                                </p>';
                } else {
                    adClassDebug = '<p><span class="title">' + adClassName + '</span>\
                                <span>Pixel Density: <b>' + window.devicePixelRatio + '</b></span>\
                                <span>Longest Side: <b>' + longestSide + 'px</b></span>\
                                <span>Shortest Side: <b>' + shortestSide + 'px</b></span>\
                                <span>Minimum Container Size: <b>' + minimumContainerSize + 'px</b></span>\
                                </p>';
                }

                if (document.getElementById("vungle-ad-debug") === null) {
                    var debugElem = document.createElement("div");
                    debugElem.setAttribute("id", "vungle-ad-debug");
                    debugElem.className = adClassName;
                    debugElem.innerHTML = adClassDebug;

                    document.body.appendChild(debugElem);
                } else {
                    var debugContainer = document.getElementById("vungle-ad-debug");
                    debugContainer.className = adClassName;
                    debugContainer.innerHTML = adClassDebug;
                }
            }
            // @endif
        }

        function revealAdNotificationModal() {
            var adModal = document.getElementById('ad-notification-modal');
            var adModalContinue = document.getElementById('ad-notification-modal-continue');
            var adModalClose = document.getElementById('ad-notification-modal-close');
            var closeButton = document.getElementById('vungle-close');
            var privacyIcon = document.getElementById('privacy-icon');

            adModal.className = '';
            hideCloseButton();
            hidePrivacyButton();

            adModalContinue.onclick = function () {
                _vungleAdHelpers2.default.addClass(adModal, 'hide');
                _vungleAdHelpers2.default.removeClass(closeButton, 'hide');
                _vungleAdHelpers2.default.removeClass(privacyIcon, 'hide');
            };
            adModalClose.onclick = function () {
                vungleMRAID.close();
            };
        }

        function revealGDPRNotificationView() {

            var gdprView = document.getElementById('gdpr-notification-view');

            var gdprViewConsentButton = document.getElementById('gdpr-notification-consent');
            var gdprViewDoNotConsentButton = document.getElementById('gdpr-notification-no-consent');

            document.getElementById('gdpr-notification-title-text').innerHTML = window.vungle.mraid.getConsentTitleText();
            document.getElementById('gdpr-notification-body-text').innerHTML = window.vungle.mraid.getConsentBodyText();
            document.getElementById('gdpr-notification-consent').innerHTML = window.vungle.mraid.getConsentAcceptButtonText();
            document.getElementById('gdpr-notification-no-consent').innerHTML = window.vungle.mraid.getConsentDenyButtonText();

            _vungleAdHelpers2.default.removeClass(gdprView, 'hide');

            gdprViewConsentButton.onclick = function () {
                window.vungle.mraidBridgeExt.consentAction("opted_in");
                renderAdIFrame();
                _vungleAdHelpers2.default.addClass(gdprView, 'hide');
            };

            gdprViewDoNotConsentButton.onclick = function () {
                window.vungle.mraidBridgeExt.consentAction("opted_out");
                renderAdIFrame();
                _vungleAdHelpers2.default.addClass(gdprView, 'hide');
            };
        }

        function revealCloseButton() {
            var showCloseButtonTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
            var closeButtonIncentivisedTime = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

            var closeButton = document.getElementById('vungle-close');

            showCloseButtonTime = showCloseButtonTime * 1000;
            closeButtonIncentivisedTime = closeButtonIncentivisedTime * 1000;

            if (isAdIncentivised) {
                setTimeout(function () {
                    achievedReward = true;
                    console.log('NOTIFY - successful view ad');

                    window.vungle.mraidBridgeExt.notifySuccessfulViewAd();
                    window.vungle.mraidBridgeExt.notifyEventValuePairEvent("videoLength", 10);
                    window.vungle.mraidBridgeExt.notifyEventValuePairEvent("videoViewed", 9);
                }, closeButtonIncentivisedTime);
            }

            setTimeout(function () {
                closeButton.className = '';
                closeButton.onclick = function () {

                    var onClickTimeStamp = new Date();

                    if (isAdIncentivised) {
                        if (achievedReward) {
                            vungleMRAID.close();
                        } else {
                            revealAdNotificationModal();
                        }
                    } else {
                        vungleMRAID.close();
                    }
                };
            }, showCloseButtonTime);
        }

        function revealPrivacyButton() {
            var privacyContainer = document.getElementById('privacy-container');
            _vungleAdHelpers2.default.removeClass(privacyContainer, 'hide');
        }

        function hideCloseButton() {
            var closeButton = document.getElementById('vungle-close');
            _vungleAdHelpers2.default.addClass(closeButton, 'hide');
        }

        function hidePrivacyButton() {
            var privacyIcon = document.getElementById('privacy-icon');
            _vungleAdHelpers2.default.addClass(privacyIcon, 'hide');
        }

        function ctaButtonClicked() {
            //send postroll.click and clickUrl TPAT events when CTA is clicked for campaign level tracking,
            //and postroll.click and download events for report_ad
            window.vungle.mraidBridgeExt.notifyTPAT("postroll.click");
            window.vungle.mraidBridgeExt.notifyTPAT("clickUrl");
            window.vungle.mraidBridgeExt.notifyEventValuePairEvent("postroll.click", 1);
            window.vungle.mraidBridgeExt.notifyEventValuePairEvent("download", 1);

            vungleMRAID.open(VungleAd.tokens.CTA_BUTTON_URL);
            vungleMRAID.close();
            // MRAIDHelper.open(VungleAd.tokens.CTA_BUTTON_URL);
            // window.vungle.mraid.open('http://www.apple.com')
        }
    }
}; /* ----- Vungle Design Framework - JS ad core initialisation ----- */

exports.default = adcore;

},{"./vungle-ad-helpers.js":3,"./vungle-ad-mraid-helper.js":4,"./vungle-ad-privacy.js":5}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
/* ----- Vungle Design Framework - JS ad helper methods ----- */

/*	addClass() - add a classname to an element
	removeClass() - remove a classname from an element
	hasClass() - check if an element has a class
	getOS() - returns OS of browser user agent, either iOS, Android, Windows or null
	vungleVideoType() - returns info on Vungle video (ratio, classname, original video width/height)
	resizeVideo() - resizes video to fit parent container without visible black bars based on our supported ratios
*/

exports.default = {

    addClass: function addClass(elem, classString) {
        if (elem.classList) {
            elem.classList.add(classString);
        } else {
            elem.className += ' ' + classString;
        }
    },

    removeClass: function removeClass(elem, classString) {
        if (elem.classList) {
            elem.classList.remove(classString);
        } else {
            elem.className = elem.className.replace(new RegExp('(^|\\b)' + classString.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
        }
    },

    hasClass: function hasClass(elem, classString) {
        return (' ' + elem.className + ' ').indexOf(' ' + classString + ' ') > -1;
    },

    getOS: function getOS() {
        var userAgent = window.navigator.userAgent,
            platform = window.navigator.platform,
            macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'],
            windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'],
            iosPlatforms = ['iPhone', 'iPad', 'iPod'],
            os = null;

        if (macosPlatforms.indexOf(platform) !== -1 || iosPlatforms.indexOf(platform) !== -1) {
            os = 'ios';
        } else if (windowsPlatforms.indexOf(platform) !== -1) {
            os = 'windows';
        } else if (/Android/.test(userAgent)) {
            os = 'android';
        } else {
            os = '';
        }

        return os;
    },

    greatestCommonDivisor: function (_greatestCommonDivisor) {
        function greatestCommonDivisor(_x, _x2) {
            return _greatestCommonDivisor.apply(this, arguments);
        }

        greatestCommonDivisor.toString = function () {
            return _greatestCommonDivisor.toString();
        };

        return greatestCommonDivisor;
    }(function (a, b) {
        return b == 0 ? a : greatestCommonDivisor(b, a % b);
    }),

    vungleVideoType: function vungleVideoType(width, height) {
        var r = greatestCommonDivisor(width, height);
        var type;
        switch (width / r + ":" + height / r) {
            case "16:9":
                type = "landscape";
                break;
            case "9:16":
                type = "portrait";
                break;
            case "1:1":
                type = "square";
                break;
            default:
                type = "nonconform";
        }

        return {
            ratio: width / r + ":" + height / r,
            classname: "ratio" + width / r + "" + height / r,
            type: type,
            width: width,
            height: height
        };
    },

    resizeVideo: function resizeVideo(videoArea, videoHolderElem, videoContainerElem) {

        var ratio916 = 0.5625;
        var ratio916width = videoArea.offsetHeight * ratio916;
        var ratio916height = videoArea.offsetWidth / ratio916;

        var ratio169 = 0.5625;
        var ratio169width = videoArea.offsetHeight / ratio169;
        var ratio169height = videoArea.offsetWidth * ratio169;

        var ratio11width = videoArea.offsetHeight;
        var ratio11height = videoArea.offsetWidth;

        videoHolderElem.style.width = "";
        videoHolderElem.style.height = "";

        if (hasClass(document.body, 'portrait') || hasClass(document.body, 'square')) {
            if (vungleVideo.ratio === "9:16") {
                //Portrait ad unit
                if (ratio916width <= videoArea.offsetWidth) {
                    videoHolderElem.style.width = ratio916width + "px";
                } else {
                    videoHolderElem.style.height = ratio916height + "px";
                }
            } else if (vungleVideo.ratio === "16:9") {
                //Landscape ad unit
                if (ratio169height <= videoArea.offsetHeight) {
                    videoHolderElem.style.height = ratio169height + "px";
                } else {
                    videoHolderElem.style.width = ratio169width + "px";
                }
            } else {
                //Square ad unit
                if (ratio11width <= videoArea.offsetWidth) {
                    videoHolderElem.style.width = ratio11width + "px";
                } else {
                    videoHolderElem.style.height = ratio11height + "px";
                }
            }
        } else {
            if (vungleVideo.ratio === "9:16") {
                //Portrait ad unit
                if (ratio916height <= videoArea.offsetHeight) {
                    videoHolderElem.style.height = ratio916height + "px";
                } else {
                    videoHolderElem.style.width = ratio916width + "px";
                }
            } else if (vungleVideo.ratio === "16:9") {
                //Landscape ad unit
                if (ratio169height <= videoArea.offsetHeight) {
                    videoHolderElem.style.height = ratio169height + "px";
                } else {
                    videoHolderElem.style.width = ratio169width + "px";
                }
            } else {
                //Square ad unit
                if (ratio11width <= videoArea.offsetWidth) {
                    videoHolderElem.style.width = ratio11width + "px";
                } else {
                    videoHolderElem.style.height = ratio11height + "px";
                }
            }
        }
    }
};

},{}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = {
    getAdState: getAdState,
    getCurrentPosition: getCurrentPosition,
    getDefaultPosition: getDefaultPosition,
    getExpandProperties: getExpandProperties,
    getMaxSize: getMaxSize,
    getPlacementType: getPlacementType,
    getResizeProperties: getResizeProperties,
    getScreenSize: getScreenSize,
    getState: getState,
    getVersion: getVersion,
    setExpandProperties: setExpandProperties,
    setResizeProperties: setResizeProperties,
    mraidReady: mraidReady,
    open: open,
    checkMRAIDStatus: checkMRAIDStatus,
    close: close,
    expand: expand,
    isViewable: isViewable,
    playVideo: playVideo,
    resize: resize,
    supports: supports,
    storePicture: storePicture,
    useCustomClose: useCustomClose,
    getMRAID: getMRAID
};


window.vungle = window.vungle || {};
var mraid = null;
var adState = false;
var isPublished = false;

function getMRAID() {
    if (!mraid) {
        mraid = window.vungle.mraid ? window.vungle.mraid : window.mraid;
    }
    return mraid;
};

async function checkMRAIDStatus() {
    return new Promise(function (resolve, reject) {
        if (getMRAID() && getMRAID().getState() === "loading") {
            var i = 0;
            var interval = setInterval(function () {
                if (getMRAID().getState() === "default") {
                    clearInterval(interval);
                    mraidReady();
                    resolve();
                } else {
                    i += 10;
                }
            }, 10);
        } else {
            mraidReady();
            resolve();
        }
    });
};

function mraidReady() {

    // @if NODE_ENV='prod' 
    mraid.useCustomClose(); //used to hide the native close icon and replace with the Vungle header icon
    window.vungle.mraidExt.useCustomPrivacy(true);
    // @endif

    adState = true;
    // getMRAID().addEventListener("viewableChange", onAdViewableChange.bind(this));
};

function onAdViewableChange() {
    //Is toggled if publisher app goes into background and then resumed
    var videoElement = document.getElementsByTagName("video")[0];

    if (videoElement) {
        if (getMRAID().isViewable()) {
            videoElement.play();
        } else {
            videoElement.pause();
        }
    }

    if (getMRAID().isViewable() && !isPublished) {
        eventDispatcher.publish("event.endcardView");
        isPublished = true;
    }
};

function isViewable() {
    return getMRAID().isViewable();
};

function asyncLoadJavaScript(url, callback) {
    var scriptTag = document.createElement("script");

    scriptTag.type = "text/javascript";
    scriptTag.src = url;

    if (scriptTag.readyState) {
        scriptTag.onreadystatechange = function () {
            if (scriptTag.readyState === "loaded" || scriptTag.readyState === "completed") {
                scriptTag.onreadystatechange = null;
                callback && callback();
            }
        };
    } else {
        scriptTag.onload = function () {
            callback && callback();
        };
    }

    document.getElementsByTagName("head")[0].appendChild(scriptTag);
};

function getAdState() {
    return adState;
};

function open(url) {
    getMRAID().open(url);
};

function close() {
    getMRAID().close();
};

function getExpandProperties() {
    return getMRAID().getExpandProperties();
};

function getDefaultPosition() {
    return getMRAID().getDefaultPosition();
};

function getCurrentPosition() {
    return getMRAID().getCurrentPosition();
};

function getMaxSize() {
    return getMRAID().getMaxSize();
};

function getPlacementType() {
    return getMRAID().getPlacementType();
};

function getResizeProperties() {
    return getMRAID().getResizeProperties();
};

function getScreenSize() {
    return getMRAID().getScreenSize();
};

function getVersion() {
    return getMRAID().getVersion();
};

function playVideo() {
    return getMRAID().playVideo();
};

function resize() {
    return getMRAID().resize();
};

function setExpandProperties(properties) {
    getMRAID().setExpandProperties(properties);
};

function setResizeProperties(properties) {
    getMRAID().setResizeProperties(properties);
};

function storePicture(uri) {
    getMRAID().storePicture(uri);
};

function supports(feature) {
    return getMRAID().supports(feature);
};

function useCustomClose(flag) {
    getMRAID().useCustomClose(flag);
};

function createCalendarEvent() {
    //TODO: needs to implement!!!!!
};

function expand(url) {
    getMRAID().expand(url);
};

function getState() {
    getMRAID().getState();
};

},{}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = {

    init: function init() {

        var privacyTimer, privacySubTimer;

        var prefix = ''; // stop clashes
        var privacyUrl = 'http://vungle.com/privacy/';
        var privacyDuration = 2000;
        var privacySubDuration = 1000;
        var privacySubHideDuration = 500;
        var privacyIcon = document.getElementById(prefix + 'privacy-icon');

        // add click events
        document.getElementById(prefix + 'privacy-icon').addEventListener("click", privacyExtend);
        document.getElementById(prefix + 'privacy-back-button-container').addEventListener("click", hideIframe);

        function addClass(el, className) {

            if (!(el instanceof HTMLDivElement)) {
                el = document.getElementById(el);
            }

            if (el.classList) {
                el.classList.add(className);
            } else if (!hasClass(el, className)) {
                el.className += " " + className;
            }
        }

        function hasClass(el, className) {

            if (el.classList) {
                return el.classList.contains(className);
            } else {
                return !!el.className.match(new RegExp('(\\s|^)' + className + '(\\s|$)'));
            }
        }

        function removeClass(el, className) {

            if (!(el instanceof HTMLDivElement)) {
                el = document.getElementById(el);
            }

            if (el.classList) {
                el.classList.remove(className);
            } else if (hasClass(el, className)) {
                var reg = new RegExp('(\\s|^)' + className + '(\\s|$)');
                el.className = el.className.replace(reg, ' ');
            }
        }

        function hideIframe() {

            var loadingPage = document.getElementById(prefix + 'privacy-page-loading');

            removeClass(loadingPage, 'loaded');

            document.getElementById(prefix + 'privacy-page-wrapper').style.display = "none";
            document.getElementById(prefix + 'privacy-back-button-container').style.display = "none";
        }

        function showIFrame() {

            var loadingPage = document.getElementById(prefix + 'privacy-page-loading');
            var privacyPg = document.getElementById(prefix + 'privacy-page');

            document.getElementById(prefix + 'privacy-page-wrapper').style.display = "initial";
            document.getElementById(prefix + 'privacy-back-button-container').style.display = "initial";

            removeClass(loadingPage, 'loaded');
            addClass(loadingPage, 'loading');

            privacyPg.onload = function () {
                removeClass(loadingPage, 'loading');
                addClass(loadingPage, 'loaded');
            };

            privacyPg.src = privacyUrl;
        }

        function hidePrivacyIcon() {

            removeClass(privacyIcon, 'privacy-extended');

            privacySubTimer = setTimeout(function () {
                removeClass(privacyIcon, 'privacy-reverse');
            }, privacySubHideDuration);
        }

        function privacyExtend() {

            if (hasClass(privacyIcon, 'privacy-extended')) {
                showIFrame();
                hidePrivacyIcon();
                return;
            }

            addClass(privacyIcon, 'privacy-extended');

            clearTimeout(privacyTimer);

            privacyTimer = setTimeout(function () {
                hidePrivacyIcon();
            }, privacyDuration);

            privacySubTimer = setTimeout(function () {
                addClass(privacyIcon, 'privacy-reverse');
            }, privacySubDuration);
        }
    }
};

},{}]},{},[1]);
