/**
 * @name zSlider
 * @version 0.0.1
 * @author creeperyang<yangcreeper@hotmail.com>
 * @description A pure JavaScript Carousel/Slider plugin that works well at Mobile/PC.
*/
"use strict";!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.Slider=b()}(this,function(){function q(b,c,d){var e,f,g,j,k;if(!b||!c)return console.error("Slider: arguments error."),this;if(e="string"==typeof b?document.querySelector(b):b,!e)return console.error("Slider: cannot find container."),this;if(f="string"==typeof c?e.querySelectorAll(c):c,!f||!f.length)return console.error("Slider: no item inside container."),this;k=this,d=d||{};for(var q in a)void 0===d[q]&&(d[q]=a[q]);f=Array.prototype.slice.call(f),g=f.length,1!==g&&(j=e.clientWidth,this.options=d,this.compareDistance=0,this.timeId=null,this.width=j,d.minPercentToSlide&&(this.compareDistance=j*d.minPercentToSlide),h(this,e,f,g,d.current,j),i(this,"z-slide-indicator","z-slide-dot",this.realCount||g,this.current,"active"),o(this,l,m,n),window.addEventListener("resize",function(){p(k)},!1),d.autoplay&&(this.interval=Math.max(2e3,1e3*d.interval),this.autoplay()))}var a={current:0,duration:.8,minPercentToSlide:null,autoplay:!0,direction:"left",interval:5},b=function(a){setTimeout(a,0)},c=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},d=function(a){function e(e){var f,g;if(e in a)return e;for(e=c(e),g=0;g<d&&(f=b[g]+e,!(f in a));g++);return f}var b=["moz","webkit","o","ms"],d=b.length;return function(a,b,c){a.style[e(b)]=c}}(document.body.style),e=function(a,b,c){var d;return d=document.createEvent("Event"),d.initEvent(a,b,c),d},f=function(a,b,c,e,f,g){"undefined"==typeof e&&(e=""),"undefined"==typeof f&&(f=e),"undefined"==typeof g&&(g=f),d(a,"transition",e),d(b,"transition",f),d(c,"transition",g),a.classList?a.classList.add("hide-item"):a.className+=" hide-item",b.classList?b.classList.remove("hide-item"):b.className=b.className.replace(new RegExp("(^|\\b)"+"hide-item".split(" ").join("|")+"(\\b|$)","gi")," "),c.classList?c.classList.add("hide-item"):c.className+=" hide-item"},g=function(a,b,c,e,f){d(b,"transform","translate3d("+e+"px, 0, 0)"),d(a,"transform","translate3d("+(e-f)+"px, 0, 0)"),d(c,"transform","translate3d("+(e+f)+"px, 0, 0)")},h=function(a,b,c,e,f,g){var i,j,k,l,h=e;for(2===e&&(k=c[0].cloneNode(!0),b.appendChild(k),c.push(k),k=c[1].cloneNode(!0),b.appendChild(k),c.push(k),e=4),i=e-1,(f>i||f<0)&&(f=0),0!==f&&(c=c.splice(f,e-f).concat(c)),c[0].uuid=0,c[i].uuid=i,d(c[0],"transform","translate3d(0, 0, 0)"),d(c[i],"transform","translate3d(-"+g+"px, 0, 0)"),l=1;l<i;l++)j=c[l],j.uuid=l,d(j,"transform","translate3d("+g+"px, 0, 0)");a.container=b,a.list=c,a.realCount=h,a.count=e,a.current=f},i=function(a,c,d,e,f,g){var k,h=document.createElement("span"),i=document.createElement("div"),j=[];for(i.className=c||"z-slide-indicator",h.className=d||"z-slide-dot",k=1;k<e;k++)j.push(i.appendChild(h.cloneNode(!1)));j.push(i.appendChild(h)),j[f].className="z-slide-dot "+g,a.indicatorWrap=i,a.indicators=j,a.container.parentNode.appendChild(i),b(function(){i.style.left=(a.width-getComputedStyle(i).width.replace("px",""))/2+"px"})},j=function(a,b,c){a[b].className="z-slide-dot",a[c].className="z-slide-dot active"},k=function(a){var f,b=a.count-1,c=a.width,e=a.list,g=a.indicatorWrap;for(d(e[b],"transform","translate3d(-"+c+"px, 0, 0)"),f=1;f<b;f++)d(e[f],"transform","translate3d("+c+"px, 0, 0)");g.style.left=(c-getComputedStyle(g).width.replace("px",""))/2+"px"},l=function(a,b){b.options.autoplay&&clearTimeout(b.timeId)},m=function(a,b,c){var d=b.list,e=d[0],h=d[d.length-1],i=d[1];f(h,e,i,""),g(h,e,i,c,b.width)},n=function(a,b,c){var d;d=Math.abs(c)<b.compareDistance?"restore":c<0?"left":"right",b.slide(d,c),b.options.autoplay&&b.autoplay()},o=function(a,b,c,d){function s(a,b){return/touch/.test(a.type)?(a.originalEvent||a).changedTouches[0]["page"+b]:a["page"+b]}function t(a){if("touchstart"===a.type)m=!0;else if(m)return m=!1,!1;return!0}function u(c){!n&&t(c)&&(n=!0,g=s(c,"X"),h=s(c,"Y"),k=0,l=0,r=setTimeout(function(){p=!0},200),b(c,a),this.dispatchEvent(e("swipestart",!0,!0)),"mousedown"===c.type&&(c.preventDefault(),document.addEventListener("mousemove",v,!1),document.addEventListener("mouseup",w,!1)))}function v(b){var d;n&&(i=s(b,"X"),j=s(b,"Y"),k=i-g,l=j-h,p||q||o||(Math.abs(l)>10?(o=!0,d=e("touchend",!0,!0),this.dispatchEvent(d)):Math.abs(k)>7&&(q=!0)),q&&(b.preventDefault(),c(b,a,k),d=e("swipe",!0,!0),d.movement={diffX:k,diffY:l},f.dispatchEvent(d)),p&&(b.preventDefault(),d=e("sort",!0,!0),f.dispatchEvent(d)),(Math.abs(k)>5||Math.abs(l)>5)&&clearTimeout(r))}function w(b){var c;n&&(n=!1,q?(d(b,a,k),c=e("swipeend",!0,!0),c.customData={diffX:k,diffY:l},f.dispatchEvent(c)):p?(c=e("sortend",!0,!0),f.dispatchEvent(c)):!o&&Math.abs(k)<5&&Math.abs(l)<5&&("touchend"===b.type,c=e("tap",!0,!0),f.dispatchEvent(c)),q=!1,p=!1,o=!1,clearTimeout(r),"mouseup"===b.type&&(document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",w)))}var g,h,i,j,k,l,m,n,o,p,q,r,f=a.container;f.addEventListener("mousedown",u,!1),f.addEventListener("touchstart",u,!1),f.addEventListener("touchmove",v,!1),f.addEventListener("touchend",w,!1),f.addEventListener("touchcancel",w,!1)},p=function(a){a.options.autoplay&&null!==a.timeId&&(clearTimeout(a.timeId),a.timeId=null),a.resizeTimeId&&clearTimeout(a.resizeTimeId),a.resizeTimeId=setTimeout(function(){a.width=a.container.clientWidth,a.options.minPercentToSlide&&(a.compareDistance=a.width*a.options.minPercentToSlide),k(a),a.options.autoplay&&a.autoplay()},200)};return q.version="0.0.1",q.defaults=a,q.prototype.autoplay=function(){var a=this.interval,b=this;this.timeId=setTimeout(function(){b.slide(),b.autoplay()},a)},q.prototype.slide=function(a,b){var l,m,n,o,p,c=this.list,d=this.current,h=this.count,i=this.width,k=this.options.duration;a=a||this.options.direction,b=b||0,"left"===a?(c.push(c.shift()),this.current=(d+1)%h,k*=1-Math.abs(b)/i):"right"===a?(c.unshift(c.pop()),this.current=(d-1+h)%h,k*=1-Math.abs(b)/i):k*=Math.abs(b)/i,m=c[0],n=c[h-1],o=c[1],l="transform "+k+"s linear","left"===a||"restore"===a&&b>0?f(n,m,o,l,l,""):("right"===a||"restore"===a&&b<0)&&f(n,m,o,"",l,l),g(n,m,o,0,i),2===this.realCount?(this.current=this.current%2,j(this.indicators,d%2,this.current)):j(this.indicators,d,this.current),p=e("slideend",!0,!0),p.slider=this,p.currentItem=m,this.container.dispatchEvent(p)},q});